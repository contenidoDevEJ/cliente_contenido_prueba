$(document).ready(function(){AOS.init({disable:"mobile"}),$("[data-bs-hover-animate]").mouseenter(function(){var e=$(this);e.addClass("animated "+e.attr("data-bs-hover-animate"))}).mouseleave(function(){var e=$(this);e.removeClass("animated "+e.attr("data-bs-hover-animate"))})}),function(e){"use strict";e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if((t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length)return e("html, body").animate({scrollTop:t.offset().top-57},1e3,"easeInOutExpo"),!1}}),e(".js-scroll-trigger").click(function(){e(".navbar-collapse").collapse("hide")}),e("body").scrollspy({target:"#mainNav",offset:57});var t=function(){e("#mainNav").offset().top>100?e("#mainNav").addClass("navbar-shrink"):e("#mainNav").removeClass("navbar-shrink")};t(),e(window).scroll(t),e(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}})}(jQuery),$(".opcion").click(function(e){e.preventDefault(),$("#modal-video").modal()}),$(".opcion").hover(function(e){$(this).css("cursor","pointer")},{});let url="https://ef010.000webhostapp.com/api/users4";function cargarCaratula(e){$(".app-nombre").text(e.usuario),$(".app-email").text(e.email),$(".msn-bienvenida").text(e.saludo),$(".desc-app").text(e.desc_app),$(".num-cel strong").text(e.cel),$(".app-email").attr("href",`mailto:${e.email}`),$(".num-cel strong").attr("href",`tel:${e.cel}`),clickWhats(e.cel)}function clickWhats(e){$(".wa-button").click(function(t){t.preventDefault(),window.location=`https://api.whatsapp.com/send?phone=${e}&text=hola,%20¿qué%20tal%20estás?`})}function abrirVideoModal(e){let t=new String("").valueOf(),a=new String("https://www.youtube.com/embed/").valueOf();$("#modal-video").find("iframe").attr("src",a+e+t),$("#modal-video").modal("show")}function executeFolderComponent(e){$(".folder-row").html(""),0===e.length?$(".folder-row").append('<div class="col-6 col-md-6 col-lg-3 text-center folder">\n            <h3 class="mb-3">Sin contenido</h3>\n        </div>\n    </div>'):e.forEach(e=>{$(".folder-row").append(getViewFolders(e))}),selectedFolder(e)}function getViewFolders(e){return $(`<div class="col-6 col-md-6 col-lg-3 text-center folder font-family">\n    <div class="mx-auto service-box mt-5 pulse animated infinite"><img width="120px" height="100px" alt="image" src="assets/img/app/folder.png" />\n        <p class="id-folder" hidden>${e.id}</p>\n        <h3 class="mb-3 name-folder">${e.name}</h3>\n        <p class="text-muted mb-0">${e.desc}</p>\n    </div>\n</div>`)}function selectedFolder(e){let t=0;$(".folder").click(function(a){a.preventDefault(),t=$(this).find(".id-folder").text(),$(".name-folder-s").text($(this).find(".name-folder").text()),$(".folder-row").toggle(),$(".folder-category").show(),window.location="#academia",buildCategoria(t,e)}),$(".category-close").click(function(e){e.preventDefault(),$(".folder-row").toggle(),$(".folder-category").toggle(),window.location="#academia"})}function getCategoryObject(e){folders.forEach(e=>{e.get_categories.forEach(e=>{})})}function buildCategoria(e,t){t.forEach(t=>{t.id==e&&setCategoria(t.get_categories)})}function setCategoria(e){let t="";e.forEach(e=>{t+=`\n        <div class="card">\n            <div role="tab" class="card-header">\n                <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="false" aria-controls="accordion-1 .item-${e.id}" href="#accordion-1 .item-${e.id}" class="name-categories">${e.name}</a></h5>\n            </div>\n            <div role="tabpanel" data-parent="#accordion-1" class="collapse item-${e.id}">\n                <div class="card-body" style="font-family: sans-serif;">\n                    <p class="card-text desc-categories">${e.desc}</p>\n                    <div>${setContenido(e.get_contenido_videos,e.get_contenido_archivos)}</div>\n                </div>\n            </div>\n        </div>\n        `}),$("#accordion-1").html(t),evtArchivo(),evtVideoCate(),0==e.length&&$("#accordion-1").html('\n        <div class="alert alert-danger" role="alert">\n            Sin contenido\n        </div>\n        ')}function setContenido(e,t){return desplegarVideo(e)+desplegarArchivo(t)}function desplegarVideo(e){if(0==e.length)return'<div class="alert alert-danger" role="alert">\n            Sin contenido de video\n        </div>';{let t="";return e.forEach(e=>{t+=`<li class="list-group-item"><a class="btn-get-Video-cate" data-toggle="collapse" aria-expanded="false" aria-controls="Info .item-7" href="#Info .item-7"><span hidden>${JSON.stringify(e.get_video)}</span><i class="fa fa-film swing animated infinite m-1" style="color: rgb(191,107,193);"></i><strong>${e.get_video.title}</strong> <span>DESC: ${e.get_video.descrip}</span> </a></li>`}),`<p class ='text-center'>Videos</p><ul class="list-group">${t}</ul>`}}function desplegarArchivo(e){if(0==e.length)return'<div class="alert alert-danger" role="alert">\n            Sin contenido de Archivos\n        </div>';{let t="";return e.forEach(e=>{t+=`<li class="list-group-item"><a class="btn-get-archivo" data-toggle="collapse" aria-expanded="false" aria-controls="Info .item-7" href="#" ><span hidden>${JSON.stringify(e.get_archivo)}</span><i class="fa fa-file swing animated infinite m-1" style="color: rgb(147,124,4);"></i><strong>${e.get_archivo.name}</strong> <span>DESC: ${e.get_archivo.desc}</span> </a></li>`}),`<p class ='text-center'>Archivos</p><ul class="list-group">${t}</ul>`}}function evtArchivo(){$(".btn-get-archivo").click(function(e){e.preventDefault();let t=JSON.parse($(this).find("span").eq(0).text());confirm("¿Deseas abrir el archivo?")&&(cargarmodalArchivo(getIdFromUrl(t.ruta)),$("#modal-archivo").modal("show"))})}function evtVideoCate(){$(".btn-get-Video-cate").click(function(e){e.preventDefault();let t=JSON.parse($(this).find("span").eq(0).text());if(console.log(t),confirm("¿Deseas abrir el video?")){let e=t.caratula_link.split("/");$("#modal-video .modal-header strong").text(t.title),$("#modal-video .desc-video").text(t.descrip),abrirVideoModal(e[4])}})}function makeVideo(e){let t=$(".carrusel-car"),a=e.actualVideo;t.html(""),0===a.length||a.forEach(e=>{t.append(createCarrusel(e.get_video)),validateActual()}),$(".multi-item-carousel").on("slide.bs.carousel",function(e){let t=$(e.relatedTarget),a=$(".carousel-item",this).length,o=$(".carousel-inner",this),i=3-(a-t.index());if(i>0)for(var l=0;l<i;l++)$(".carousel-item",this).eq("left"==e.direction?l:0).appendTo(o)}),$(".carrusel-img").on("click",function(e){e.preventDefault(),abrirVideoModal(new String($(this).attr("src")).valueOf().split("/")[4]),$(".desc-video").text($(this).parent().find("p").eq(1).text()),$(".titulo-video strong").text($(this).parent().find("p").eq(0).text())}),$("#modal-video .modal-header").find("button").click(function(e){e.preventDefault(),$("#modal-video iframe").removeAttr("src")})}function createCarrusel(e){return $(`<div class="carousel-item col-md-4">\n    <p hidden>${e.title}</p>\n    <p hidden>${e.descrip}</p>\n    <img src="${e.caratula_link}" class="img-fluid mx-auto d-block carrusel-img">\n</div>`)}function validateActual(){$(".carousel-item").eq(0).addClass("active")}function loadPorfolio(e){$(".atributes-portfolio").html(""),0===e.length?$(".atributes-portfolio").append(createPortfolioClean()):e.forEach(e=>{$(".atributes-portfolio").append(createViewPrtfolio(e))})}function createViewPrtfolio(e){return $(`<div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-4 p-1 m-auto">\n    <div class="card p-2">\n        <header style="background-color: #d7eaf8;">\n            <h4 class="p-1">${e.titulo}</h4>\n            <hr />\n        </header>\n        <div class="card-body" style="background-color: #e8e8e8;">\n            <h3 class="text-muted card-subtitle mb-2 text-left">${e.sub_a}</h3>\n        </div>\n        <div class="card-body" style="background-color: #eeeeee;">\n            <h6 class="text-muted card-subtitle mb-2 text-left">${e.sub_b}</h6>\n            <p class="card-text text-justify">${e.descrip}</p>\n        </div>\n    </div>\n</div>`)}function createPortfolioClean(){return $('<div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-4 p-1 m-auto">\n    <div class="card p-2">\n        <header style="background-color: #d7eaf8;">\n            <h4 class="p-1">"No hay contenido"</h4>\n            <hr />\n        </header>\n    </div>\n</div>')}$.ajax({type:"get",url:url,data:{},dataType:"json",success:function(e){cargarCaratula(e.caratula),loadPorfolio(e.portfolios),executeFolderComponent(e.folders),makeVideo(e)}}),$(".multi-item-carousel").on("slide.bs.carousel",function(e){let t=$(e.relatedTarget),a=$(".carousel-item",this).length,o=$(".carousel-inner",this),i=3-(a-t.index());if(i>0)for(var l=0;l<i;l++)$(".carousel-item",this).eq("left"==e.direction?l:0).appendTo(o)}),$(".carrusel-img").on("click",function(e){e.preventDefault(),abrirVideoModal(new String($(this).attr("src")).valueOf().split("/")[4])}),$(".folder-category").hide(),window.onload=function(){try{let e=document.getElementById("contenedor_carga");e.style.visibility="hidden",e.style.opacity="0"}catch(e){}};let saludableUrl="https://ef010.000webhostapp.com/api/users";function cargarSaludabe(){$.ajax({type:"GET",url:saludableUrl,data:{},dataType:"json",beforeSend:function(){$(".div-work-saludable").html("")},success:function(e){$(".div-work-saludable").html(e.saludable),verVideo(),verArchivo()}})}function verVideo(){$(".btn-saludable-clip").click(function(e){e.preventDefault(),$("#modal-video .modal-header strong").text("SALUDABLE"),$("#modal-video .desc-video").text(""),abrirVideoModal($(this).find("span").text().split("/")[4])})}function verArchivo(){$(".btn-saludable-file").click(function(e){e.preventDefault(),cargarmodalArchivo(getIdFromUrl($(this).find("span").text())[0]),$("#modal-archivo").modal("show")})}function cargarmodalArchivo(e){$("#modal-archivo iframe").attr("src",`https://docs.google.com/viewer?srcid=${e}&pid=explorer&efh=false&a=v&chrome=false&embedded=true`)}function getIdFromUrl(e){return e.match(/[-\w]{25,}/)}cargarSaludabe();
